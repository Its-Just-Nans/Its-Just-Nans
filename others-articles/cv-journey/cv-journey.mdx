---
title: My journey to creating a CV
description: Achieving sub-second CV generation (it's useless anyway)
date: 2025-08-12
tags: ["archived"]
---

export const Helper = ({ summary, children }) => {
    return (
        <details class="helper">
            <style>
                {`
                .helper{
                    background-color: lightblue;
                    padding: 10px;
                    border-radius: 5px;
                }
                `}
            </style>
            <summary>
                {summary}
            </summary>
            <br />
            {children}
        </details>
    )
}

export const DateTitle = ({ date, children }) => {
    return (
        <span class="dateTitle">
            <style>{`
                .dateTitle {
                    display: flex;
                    justify-content: space-between;
                }`}
            </style>
            <span>
                {children}
            </span>
            <span>
                {date}
            </span>
        </span>
    )
}


export const LatexSvg = () => {
    return (
        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="17" viewBox="0 -716.3 2782.3 931.8">
            <g stroke-width="0">
                <path d="M520-667c0-11-7-16-20-16l-146 3-131-3c-15-1-23 7-23 24 0 7 3 12 9 13 9 1 17 2 22 2 31 1 48 3 53 4s8 4 8 9c0 2-1 8-4 18L156-82c-6 22-16 35-31 40-6 2-24 3-55 3-21 0-31 8-31 24C39-5 49 0 70 0h457c25 0 27 0 34-19l78-214c3-7 4-12 4-15 0-10-5-15-16-15-10 0-15 9-20 23-19 49-37 86-52 109-37 56-100 92-192 92h-93c-11 0-18 0-21-1-7 0-10-2-10-5 0-2 2-9 5-22l133-534c6-23 19-36 38-41 6-1 27-2 63-2 28 0 42 0 42-23Z" />
                <path d="M452.859-212.121c12.726 0 56.56 2.121 69.993 2.121 10.605 0 15.554-5.656 15.554-16.261 0-6.363-4.242-10.605-13.433-11.312-20.503-.707-30.401-7.777-30.401-21.21 0-6.363 6.363-20.503 19.796-41.713 19.089-31.815 32.522-55.146 41.713-70.7h171.801c0 4.949.707 14.847 2.828 30.401 4.949 51.611 7.777 79.891 7.777 83.426 0 13.433-15.554 19.796-47.369 19.796-13.433 0-19.796 5.656-19.796 16.968 0 7.07 4.242 10.605 12.726 10.605 16.968 0 70.7-2.121 87.668-2.121 14.14 0 64.337 2.121 78.477 2.121 10.605 0 15.554-5.656 15.554-16.968 0-7.07-6.363-10.605-19.089-10.605-19.796 0-31.815-1.414-35.35-3.535-3.535-2.121-6.363-8.484-7.07-19.089l-42.42-436.926c-2.121-13.433-1.414-19.089-16.261-19.089-8.484 0-15.554 4.242-20.503 13.433L481.846-294.84c-21.21 35.35-49.49 54.439-84.133 57.267-11.312.707-16.968 6.363-16.968 16.968 0 7.07 4.242 10.605 12.019 10.605 11.312 0 48.783-2.121 60.095-2.121m250.985-405.818 21.21 219.17H573.049Z" />
                <path d="M1060.3-631c0 3-1 10-4 20l-132 528c-4 15-8 24-11 28-9 11-43 16-103 16-31 0-45-3-45 23 0 11 7 16 20 16 51 0 123-4 166-3l82 1c14 0 69 2 86 2s25-8 25-24c0-10-12-15-37-15-52 0-82-2-91-7-3-2-5-6-5-12l135-545c3-14 6-23 9-26 4-6 28-9 72-9 55 0 93 4 112 13s29 30 29 64c0 18-3 44-8 78-2 8-3 14-3 19 0 11 5 17 16 17 9 0 15-9 18-26l27-172c1-5 2-11 2-17 0-10-10-15-31-15h-548c-26 0-28 3-36 22l-59 174c-3 9-5 15-6 19 0 10 5 15 16 15 8 0 15-8 20-23 25-73 50-118 73-137 26-21 76-31 149-31h39c11 0 23-1 23 7Zm419 190.5c0 10 11 15 32 15 40 0 60 4 60 13 0 3-2 10-5 23l-130 523c-5 22-15 35-30 40-7 2-25 3-56 3-22 0-32 2-32 23 0 11 11 16 32 16h513c24 0 26-2 34-19l40-90c27-62 46-108 57-139-2-9-5-15-16-15-7 0-13 5-17 14-25 59-49 104-73 136-40 54-99 74-193 74h-145c-10 0-17 0-21-1-6 0-9-2-9-5 0-2 2-9 5-22l66-267h95c47 0 72 6 77 19 2 5 3 12 3 22 0 13-2 29-7 48-2 5-3 9-3 12 0 10 6 15 17 15 9 0 15-8 19-23l56-232c0-10-5-15-16-15-8 0-14 7-17 21-10 39-23 64-40 76s-45 18-86 18h-88l58-233c8-34 8-35 50-35h139c51 0 86 5 105 15 28 15 42 45 42 90 0 17-1 35-4 52 0 2 0 5-1 9v9c0 11 5 16 15 16s16-9 18-28l20-171c3-28-4-31-31-31h-499c-23 0-34 1-34 24Z" />
                <path d="M2765.3-683c-17 0-76 3-93 3-20 0-90-3-110-3-15 0-23 8-23 24 0 9 5 14 16 15 24 3 36 11 36 26 0 9-6 20-18 33l-156 168c-29-68-57-135-86-203 1-2 2-4 5-6 9-10 26-16 50-18 16-2 24-10 24-23 0-11-6-16-19-16-24 0-101 3-125 3-21 0-90-3-111-3-15 0-22 8-22 24 0 10 9 15 27 15 45 0 59 0 71 29l116 273-208 223c-3 3-7 7-12 10-41 43-88 67-143 70-17 1-26 10-26 25 3 9 4 14 17 14 17 0 76-3 93-3 21 0 90 3 111 3 15 0 22-8 22-24 0-9-5-14-16-15-24-2-36-11-36-26 0-10 9-24 26-42 62-66 125-132 186-199 34 81 69 161 102 243-1 2-2 4-5 7-9 9-25 14-49 17-15 2-23 10-23 23 0 11 6 16 19 16l125-3c21 0 91 3 109 3 15 0 23-8 23-23 0-10-7-15-22-16-31 0-51-1-58-5s-15-16-23-36l-127-303c68-72 119-126 152-163 24-25 40-42 49-49 37-31 78-47 123-49 21-1 26-6 26-25-3-9-4-14-17-14Z" />
            </g>
        </svg>
    )
}

## The Beginning

The journey started back in high school, when I needed a CV for my very first job application. I wasn’t much into computers at the time, so I used the classic [LibreOffice Writer](https://www.libreoffice.org/) to make a simple CV. It was a tedious process - everything had to be formatted manually. Painful, but manageable since there wasn’t much content.

LibreOffice Writer is all fun until you want something serious.

## <DateTitle date="2022/01"><LatexSvg /> Superiority</DateTitle>

Fast forward to engineering school - I needed another CV for an internship. This time, I decided to use <LatexSvg />. It was more complex, but it gave me much better formatting and structure. <LatexSvg /> also comes with [the simplicity of a single text file](https://stephango.com/file-over-app).

In the end, my CV lived as a single `.tex` file in a Git repository hosted on [GitHub](https://github.com/).

Wait... did I say GitHub? Why not build it with GitHub Actions?

So I did. I created a simple workflow that compiled my `.tex` file into a PDF every time I pushed changes. It was great until I ran into my next ~problem~ challenge.

A quick summary of <LatexSvg />’s strengths and weaknesses:

**Pros**:
- Superior formatting and structure
- Very powerful for complex documents
- Excellent for mathematical equations
- Cool logo command `\LaTeX`: <LatexSvg />

**Cons**:
- Massive download size
    ```
    $ apt install texlive-full
    Installing:
    texlive-full
    ...
    Summary:
    Upgrading: 0, Installing: 797, Removing: 0, Not Upgrading: 0
    Download size: 4820 MB
    Space needed: 9183 MB
    ```
- Steep learning curve (pixel-perfect layouts are tricky)
- Slow compilation


## <DateTitle date="2024/02">Lua Machinery</DateTitle>

Then I faced a new ~problem~: I wanted to have two CVs, one in English and one in French, with the same layout. I decided to change my approach and use two files: one for the content and one for the layout.

The content went into a JSON file, and the layout remained in <LatexSvg />.

<Helper summary="Why JSON?">
Yes **JSON**, because I believe in the [file over app](https://stephango.com/file-over-app) philosophy. And at night, I dream of one JSON file per contact, like the [RFC9553](https://www.rfc-editor.org/rfc/rfc9553).

Wait... you like RFC9553? You should definitely check out https://crates.io/crates/jscontact

(yes indeed this is an unsolicited but totally free ad.)
</Helper>

This is where  the real power of `lualatex` came in. Using Lua’s integration, I could load JSON directly into the document. By simply changing one parameter (`lang`), I could generate both CVs from the same content file.

## <DateTitle date="2024/11">Lua Sorcery</DateTitle>

This was a big improvement, but I didn’t like having too much Lua mixed directly into my <LatexSvg /> file. So I split the Lua code into a dedicated `.lua` file, which the `.tex` file could call. This left me with three files:
1. The JSON content
2. The <LatexSvg /> layout
3. The Lua functions

Naturally, I decided to change [again](https://github.com/Its-Just-Nans/curriculum-vitae/commit/93fa0836159265aa59c687693cbb29d182babe1d).

The attentive reader would think about a Lua script that generates a `.tex` file from the JSON, then compiles it with `lualatex`. But that was too easy (too simple) and as an idiot, I wanted something more complex.


```
"An idiot admires complexity, a genius admires simplicity"
- Terry A. Davis (RIP child of God)
```

So naturally, I made a Lua script that generated a `.tex` file **that still contained Lua calls**... and then launched `lualatex`. Yes, a self-invoking Lua script that writes a `.tex` file that calls Lua code to generate itself. (You’re allowed to reread that sentence to fully appreciate the ~complexity~ nonsense.)


In the end, it worked pretty fast and could generate both CVs with a single command. But editing was still slow because I had to wait for `lualatex` every time I made a change.

I ended up pushing this questionable creation to [luarocks](https://luarocks.org/modules/its-just-nans/curriculum_vitae), just in case someone wants to use this fraudulent script :nerd_face:. It works as both a library and a script.

The repository is available here: https://github.com/Its-Just-Nans/curriculum-vitae

Here are the timings for generating two CVs with this method:

```
$ time lua curriculum_vitae.lua
real    0m3,297s
user    0m2,907s
sys     0m0,389s
```

## <DateTitle date="2025/06">Typst Supremacy</DateTitle>

Then after playing around with [Typst](https://typst.app/), it’s impossible to resist rewriting everything.

Typst is a modern typesetting system much faster than <LatexSvg /> and with a cleaner syntax. Typst also supports programming within the document (and much more) like built-in JSON support, allowing me to generate my layout directly from my JSON file.

It also supports incremental compilation (only recompiling the parts that change) making it far faster than <LatexSvg /> during edits.

The repository is available here: https://github.com/Its-Just-Nans/porygon

Usage would be something like this:

```typ
#import "@preview/porygon:0.1.0": show-cv

#let path_json = sys.inputs.at("CV_JSON", default: "cv_data.json")
#let data = json(path_json)
#show-cv(data)
```

Here are the timings for generating two CVs with this method:
```
$ time typst compile cv.typ --input CV_LANG=fr cv_fr.pdf
real    0m0,509s
user    0m0,331s
sys     0m0,185s

$ time typst compile cv.typ --input CV_LANG=en cv_en.pdf
real    0m0,442s
user    0m0,265s
sys     0m0,182s
```

The time difference is caused by the French CV including a profile picture.
